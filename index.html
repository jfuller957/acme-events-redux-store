<html>
  <head>
    <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/redux/4.0.4/redux.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/react-router-dom/5.0.1/react-router-dom.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.js'></script>
<style>
body {
  font-family: verdana;
}
nav {
  display: flex;
  justify-content: space-around;
}
a {
  padding: 0.5rem;
}
.active {
  background-color: tomato;
  color: white;
}
</style>
  </head>
  <body>
    <div id='root'></div>
    <script type='text/babel'>

      const connect = (Component)=> {
        class Connected extends React.Component{
          constructor(){
            super();
            this.state = store.getState();
          }
          componentWillUnmount(){
            this.unsubscribe();
          }
          componentDidMount(){
            this.unsubscribe = store.subscribe(() => this.setState(store.getState()));
          }
          render(){
            return (
              <Component {...this.state } {...this.props }/>
            );
          }
        }
        return Connected;
      }

      const Nav = connect(({ events }) => {
          return (
                <nav>
                    <Link to='/'>Home</Link>
                    <Link to='/events'>Events ({ events.length })</Link>
                </nav>
          )
      })

      const Home = connect()=> {
          render () {
            return <h1> "Welcome to the page!" </h1>;
          }
      }

      const Events = connnect(({ events }) => {
          return (
            <div>
                <button onClick={ addRandomEvent }>Create</button>
                <ul>
                    {
                        events.map( event => <li key={ event.id }>{ event.name } { event.date }</li>)
                    }    
                </ul>
            </div>
          )
        })
      }

      class App extends React.Component{
        componentDidMount(){
            fetchEvents();
        }
        render(){
            return (
                <HashRouter>
                    <h1>Acme Event Planner With Redux</h1>
                    <Route component={ Nav } />
                    <Route path='/' component = { Home } exact/>
                    <Route path='/events' component={ Events } />
                </HashRouter>
            );
        }
    }

    ReactDOM.render(<App />, document.querySelector('#root'));
      //ReactDOM.render(<App />, document.querySelector('#root'));

    </script>
  </body>
</html>